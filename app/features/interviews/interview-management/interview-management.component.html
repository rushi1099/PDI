<div class="interview-management">
    <div class="header">
        <h2>Interview Management</h2>
        <button class="add-button" (click)="toggleAddForm()">
            <i class="pi pi-plus"></i> Add New Interview
        </button>
    </div>

    <!-- Add Interview Form -->
    <div *ngIf="showAddForm" class="add-form">
        <div class="form-card">
            <div class="form-header">
                <h2>Add New Interview</h2>
            </div>
            <div class="form-content">
                <div class="form-row">
                    <div class="form-group">
                        <label for="candidate">Company Name</label>
                        <input type="text" id="candidate" [(ngModel)]="newInterview.candidate" required>
                    </div>
                    <div class="form-group">
                        <label for="position">Position</label>
                        <input type="text" id="position" [(ngModel)]="newInterview.position" required>
                    </div>
                    <div class="form-group">
                        <label for="hrname">HR Name</label>
                        <input type="text" id="hrname" [(ngModel)]="newInterview.hrname" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="contact">Contact Number</label>
                        <input type="tel" id="contact" [(ngModel)]="newInterview.contact" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" [(ngModel)]="newInterview.email" required>
                    </div>
                    <div class="form-group">
                        <label for="date">Date</label>
                        <input type="date" id="date" [(ngModel)]="newInterview.date" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="status">Status</label>
                        <select id="status" [(ngModel)]="newInterview.status">
                            <option *ngFor="let status of statusOptions" [value]="status">{{status}}</option>
                        </select>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="cancel-button" (click)="toggleAddForm()">Cancel</button>
                    <button class="submit-button" (click)="addInterview()">Add Interview</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Interview Form -->
    <div *ngIf="showEditForm && editingInterview" class="add-form">
        <div class="form-card">
            <div class="form-header">
                <h2>Edit Interview</h2>
            </div>
            <div class="form-content">
                <div class="form-row">
                    <div class="form-group">
                        <label for="edit-candidate">Company Name</label>
                        <input type="text" id="edit-candidate" [(ngModel)]="editingInterview.candidate" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-position">Position</label>
                        <input type="text" id="edit-position" [(ngModel)]="editingInterview.position" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-hrname">HR Name</label>
                        <input type="text" id="edit-hrname" [(ngModel)]="editingInterview.hrname" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="edit-contact">Contact Number</label>
                        <input type="tel" id="edit-contact" [(ngModel)]="editingInterview.contact" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-email">Email</label>
                        <input type="email" id="edit-email" [(ngModel)]="editingInterview.email" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-date">Date</label>
                        <input type="date" id="edit-date" [(ngModel)]="editingInterview.date" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="edit-status">Status</label>
                        <select id="edit-status" [(ngModel)]="editingInterview.status">
                            <option *ngFor="let status of statusOptions" [value]="status">{{status}}</option>
                        </select>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="cancel-button" (click)="cancelEdit()">Cancel</button>
                    <button class="submit-button" (click)="updateInterview()">Update Interview</button>
                </div>
            </div>
        </div>
    </div>

    <div class="stats-row">
        <div class="stat-card">
            <h3>Total Interviews</h3>
            <p class="stat-number">{{upcomingInterviews.length}}</p>
        </div>
        <div class="stat-card">
            <h3>Upcoming</h3>
            <p class="stat-number">{{getScheduledCount()}}</p>
        </div>
        <div class="stat-card">
            <h3>Pending</h3>
            <p class="stat-number">{{getPendingCount()}}</p>
        </div>
    </div>

    <div class="interview-list">
        <h3>Interview List</h3>
        <table>
            <thead>
                <tr>
                    <th>Company Name</th>
                    <th>Position</th>
                    <th>HR Name</th>
                    <th>Contact No</th>
                    <th>Email</th>
                    <th>Date</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let interview of upcomingInterviews">
                    <td><a (click)="editInterview(interview)" class="company-link">{{interview.candidate}}</a></td>
                    <td>{{interview.position}}</td>
                    <td>{{interview.hrname}}</td>
                    <td>{{interview.contact}}</td>
                    <td>{{interview.email}}</td>
                    <td>{{interview.date}}</td>
                    <td>{{interview.status}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div> 